type: object
description: Objeto contendo dados do pagamento e da conta do recebedor (creditor).
required:
  - paymentId
  - consentId
  - creationDateTime
  - statusUpdateDateTime
  - status
  - localInstrument
  - payment
  - creditorAccount
properties:
  paymentId:
    type: string
    minLength: 1
    maxLength: 100
    pattern: ^[a-zA-Z0-9][a-zA-Z0-9\-]{0,99}$
    example: TXpRMU9UQTROMWhZV2xSU1FUazJSMDl
    description: |
      Código ou identificador único informado pela instituição detentora da conta para representar a iniciação de pagamento individual.
      Este é o identificador que deverá ser utilizado na consulta ao status da iniciação de pagamento efetuada.
  consentId:
    type: string
    maxLength: 256
    pattern: ^urn:[a-zA-Z0-9][a-zA-Z0-9-]{0,31}:[a-zA-Z0-9()+,\-.:=@;$_!*'%\/?#]+$
    example: urn:bancoex:C1DD33123
    description: |
      Identificador único do consentimento criado para a iniciação de pagamento solicitada. Deverá ser um URN - Uniform Resource Name.
      Um URN, conforme definido na [RFC8141](https://tools.ietf.org/html/rfc8141) é um Uniform Resource
      Identifier - URI - que é atribuído sob o URI scheme "urn" e um namespace URN específico, com a intenção de que o URN
      seja um identificador de recurso persistente e independente da localização.
      Considerando a string urn:bancoex:C1DD33123 como exemplo para consentId temos:
      - o namespace(urn)
      - o identificador associado ao namespace da instituição transnmissora (bancoex)
      - o identificador específico dentro do namespace (C1DD33123).
      Informações mais detalhadas sobre a construção de namespaces devem ser consultadas na [RFC8141](https://tools.ietf.org/html/rfc8141).
  creationDateTime:
    type: string
    format: date-time
    pattern: ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$
    example: "2020-07-21T08:30:00Z"
    description: |
      Data e hora em que o recurso foi criado.
      Uma string com data e hora conforme especificação RFC-3339,
      sempre com a utilização de timezone UTC(UTC time format).
  statusUpdateDateTime:
    type: string
    format: date-time
    pattern: ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$
    example: "2020-07-21T08:30:00Z"
    description: |
      Data e hora da última atualização da iniciação de pagamento.
      Uma string com data e hora conforme especificação RFC-3339,
      sempre com a utilização de timezone UTC(UTC time format).
  status:
    $ref: ../enum/EnumPaymentStatusType.yaml
  payment:
    $ref: ./Payment.yaml
  creditorAccount:
    $ref: ../payments_apis/CreditorAccountTedTef.yaml
  purpose:
    $ref: ./EnumPurposeTedTef.yaml
  purposeAdditionalInfo:
    type: string
    maxLength: 100
    pattern: \w*\W*
    example: Informações adicionais
    description: |
      Texto livre para complementar informação relativa ao campo purpose. 
      [Restrição] Preencher quando purpose for igual OUTROS.
  rejectionReason:
    $ref: ../enum/EnumTedTefRejectionReasonType.yaml
additionalProperties: false
